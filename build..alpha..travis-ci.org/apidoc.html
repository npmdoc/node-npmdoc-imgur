<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/kaimallea/node-imgur"

    >imgur (v0.2.1)</a>
</h1>
<h4>Upload images to imgur.com</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.imgur">module imgur</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.imgur._getAuthorizationHeader">
            function <span class="apidocSignatureSpan">imgur.</span>_getAuthorizationHeader
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.imgur._imgurRequest">
            function <span class="apidocSignatureSpan">imgur.</span>_imgurRequest
            <span class="apidocSignatureSpan">(operation, payload, extraFormParams)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.imgur._request">
            function <span class="apidocSignatureSpan">imgur.</span>_request
            <span class="apidocSignatureSpan">(options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.imgur.clearClientId">
            function <span class="apidocSignatureSpan">imgur.</span>clearClientId
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.imgur.createAlbum">
            function <span class="apidocSignatureSpan">imgur.</span>createAlbum
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.imgur.deleteImage">
            function <span class="apidocSignatureSpan">imgur.</span>deleteImage
            <span class="apidocSignatureSpan">(deletehash)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.imgur.getAPIUrl">
            function <span class="apidocSignatureSpan">imgur.</span>getAPIUrl
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.imgur.getAlbumInfo">
            function <span class="apidocSignatureSpan">imgur.</span>getAlbumInfo
            <span class="apidocSignatureSpan">(id)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.imgur.getClientId">
            function <span class="apidocSignatureSpan">imgur.</span>getClientId
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.imgur.getCredits">
            function <span class="apidocSignatureSpan">imgur.</span>getCredits
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.imgur.getInfo">
            function <span class="apidocSignatureSpan">imgur.</span>getInfo
            <span class="apidocSignatureSpan">(id)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.imgur.getMashapeKey">
            function <span class="apidocSignatureSpan">imgur.</span>getMashapeKey
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.imgur.loadClientId">
            function <span class="apidocSignatureSpan">imgur.</span>loadClientId
            <span class="apidocSignatureSpan">(path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.imgur.saveClientId">
            function <span class="apidocSignatureSpan">imgur.</span>saveClientId
            <span class="apidocSignatureSpan">(clientId, path)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.imgur.setAPIUrl">
            function <span class="apidocSignatureSpan">imgur.</span>setAPIUrl
            <span class="apidocSignatureSpan">(URL)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.imgur.setClientId">
            function <span class="apidocSignatureSpan">imgur.</span>setClientId
            <span class="apidocSignatureSpan">(clientId)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.imgur.setCredentials">
            function <span class="apidocSignatureSpan">imgur.</span>setCredentials
            <span class="apidocSignatureSpan">(username, password, clientId)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.imgur.setMashapeKey">
            function <span class="apidocSignatureSpan">imgur.</span>setMashapeKey
            <span class="apidocSignatureSpan">(mashapeKey)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.imgur.uploadAlbum">
            function <span class="apidocSignatureSpan">imgur.</span>uploadAlbum
            <span class="apidocSignatureSpan">(images, uploadType, failSafe)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.imgur.uploadBase64">
            function <span class="apidocSignatureSpan">imgur.</span>uploadBase64
            <span class="apidocSignatureSpan">(base64, albumId)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.imgur.uploadFile">
            function <span class="apidocSignatureSpan">imgur.</span>uploadFile
            <span class="apidocSignatureSpan">(file, albumId)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.imgur.uploadImages">
            function <span class="apidocSignatureSpan">imgur.</span>uploadImages
            <span class="apidocSignatureSpan">(images, uploadType, albumId)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.imgur.uploadUrl">
            function <span class="apidocSignatureSpan">imgur.</span>uploadUrl
            <span class="apidocSignatureSpan">(url, albumId)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">imgur.</span>VERSION</span>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.imgur" id="apidoc.module.imgur">module imgur</a></h1>


    <h2>
        <a href="#apidoc.element.imgur._getAuthorizationHeader" id="apidoc.element.imgur._getAuthorizationHeader">
        function <span class="apidocSignatureSpan">imgur.</span>_getAuthorizationHeader
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_getAuthorizationHeader = function () {
    var deferred = Q.defer();

    if (IMGUR_ACCESS_TOKEN) {
        deferred.resolve(&#x27;Bearer &#x27; + IMGUR_ACCESS_TOKEN);
    } else if (IMGUR_USERNAME &#x26;&#x26; IMGUR_PASSWORD) {
        var options = {
            uri:      &#x27;https://api.imgur.com/oauth2/authorize&#x27;,
            method:   &#x27;GET&#x27;,
            encoding: &#x27;utf8&#x27;,
            qs: {
                client_id: IMGUR_CLIENT_ID,
                response_type: &#x27;token&#x27;
            }
        };
        imgur._request(options).then(function (res) {
            var authorize_token = res.headers[&#x27;set-cookie&#x27;][0].match(&#x27;(^|;)[\s]*authorize_token=([^;]*)&#x27;)[2];
            options.method = &#x27;POST&#x27;;
            options.json = true;
            options.form = {
                username: IMGUR_USERNAME,
                password: IMGUR_PASSWORD,
                allow: authorize_token
            };
            options.headers = {
                Cookie: &#x27;authorize_token=&#x27; + authorize_token
            };
            imgur._request(options).then(function (res) {
                var location = res.headers.location;
                var token = JSON.parse(&#x27;{&#x22;&#x27; + decodeURI(location.slice(location.indexOf(&#x27;#&#x27;) + 1)).replace(/&#x22;/g, &#x27;\\&#x22;&#x27;).replace(/&#x26;/
g, &#x27;&#x22;,&#x22;&#x27;).replace(/=/g,&#x27;&#x22;:&#x22;&#x27;) + &#x27;&#x22;}&#x27;);
                IMGUR_ACCESS_TOKEN = token.access_token;
                deferred.resolve(&#x27;Bearer &#x27; + IMGUR_ACCESS_TOKEN);
            }).catch(function (err) {
                deferred.reject(err);
            });
        }).catch(function (err) {
            deferred.reject(err);
        });
    } else {
        deferred.resolve(&#x27;Client-ID &#x27; + IMGUR_CLIENT_ID);
    }

    return deferred.promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.imgur._imgurRequest" id="apidoc.element.imgur._imgurRequest">
        function <span class="apidocSignatureSpan">imgur.</span>_imgurRequest
        <span class="apidocSignatureSpan">(operation, payload, extraFormParams)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_imgurRequest = function (operation, payload, extraFormParams) {
    var deferred = Q.defer();
    var form     = null;
    var options  = {
        uri:      IMGUR_API_URL,
        method:   null,
        encoding: &#x27;utf8&#x27;,
        json:     true
    };

    if (!operation || typeof operation !== &#x27;string&#x27; || (!payload &#x26;&#x26; operation !== &#x27;credits&#x27;)) {
        deferred.reject(new Error(&#x27;Invalid argument&#x27;));
        return deferred.promise;
    }

    switch(operation) {
        case &#x27;upload&#x27;:
            options.method = &#x27;POST&#x27;;
            options.uri += &#x27;image&#x27;;
            break;
        case &#x27;credits&#x27;:
            options.method = &#x27;GET&#x27;;
            options.uri += &#x27;credits&#x27;;
            break;
        case &#x27;info&#x27;:
            options.method = &#x27;GET&#x27;;
            options.uri += &#x27;image/&#x27; + payload;
            break;
        case &#x27;album&#x27;:
            options.method = &#x27;GET&#x27;;
            options.uri += &#x27;album/&#x27; + payload;
            break;
        case &#x27;createAlbum&#x27;:
            options.method = &#x27;POST&#x27;;
            options.uri += &#x27;album&#x27;;
            break;
        case &#x27;delete&#x27;:
            options.method = &#x27;DELETE&#x27;;
            options.uri += &#x27;image/&#x27; + payload;
            break;
        default:
            deferred.reject(new Error(&#x27;Invalid operation&#x27;));
            return deferred.promise;
    }

    imgur._getAuthorizationHeader()
        .then(function (authorizationHeader) {
            if(IMGUR_MASHAPE_KEY) {
                options.headers = {
                    Authorization: authorizationHeader,
                    &#x27;X-Mashape-Key&#x27;: IMGUR_MASHAPE_KEY
                };
            } else {
                options.headers = {
                    Authorization: authorizationHeader
                };
            }

            var r = request(options, function (err, res, body) {
                if (err) {
                    deferred.reject(err);
                } else if (body &#x26;&#x26; !body.success) {
                    deferred.reject({status: body.status, message: body.data ? body.data.error : &#x27;No body data response&#x27;});
                } else {
                    deferred.resolve(body);
                }
            });

            if (operation === &#x27;upload&#x27;) {
                form = r.form();
                form.append(&#x27;image&#x27;, payload);

                if (typeof extraFormParams === &#x27;object&#x27;) {
                    for (var param in extraFormParams) {
                        form.append(param, extraFormParams[param]);
                    }
                }
            }
        })
        .catch(function (err) {
            deferred.reject(err);
        });

    return deferred.promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.imgur._request" id="apidoc.element.imgur._request">
        function <span class="apidocSignatureSpan">imgur.</span>_request
        <span class="apidocSignatureSpan">(options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">_request = function (options) {
    var deferred = Q.defer();

    request(options, function (err, res, body) {
        if (err) {
            deferred.reject(err);
        } else {
            deferred.resolve(res);
        }
    });

    return deferred.promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.imgur.clearClientId" id="apidoc.element.imgur.clearClientId">
        function <span class="apidocSignatureSpan">imgur.</span>clearClientId
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clearClientId = function (path) {
    return imgur.saveClientId(&#x27;&#x27;, path);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

        if (commander.show) {

console.log(imgur.getClientId());

        } else if (commander.clear) {

imgur.<span class="apidocCodeKeywordSpan">clearClientId</span>()
    .fail(function (err) {
        console.error(&#x27;Unable to clear client id (%s)&#x27;, err.message);
    });

        } else if (commander.save) {

imgur.saveClientId(commander.save)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.imgur.createAlbum" id="apidoc.element.imgur.createAlbum">
        function <span class="apidocSignatureSpan">imgur.</span>createAlbum
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">createAlbum = function () {
    var deferred = Q.defer();

    imgur._imgurRequest(&#x27;createAlbum&#x27;, &#x27;dummy&#x27;)
        .then(function (json) {
            deferred.resolve(json);
        })
        .catch(function (err) {
            deferred.reject(err);
        });

    return deferred.promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});

```

#### Creating an album:

```javascript
imgur.<span class="apidocCodeKeywordSpan">createAlbum</span>()
.then(function(json) {
    console.log(json);
})
.catch(function (err) {
    console.error(err.message);
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.imgur.deleteImage" id="apidoc.element.imgur.deleteImage">
        function <span class="apidocSignatureSpan">imgur.</span>deleteImage
        <span class="apidocSignatureSpan">(deletehash)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">deleteImage = function (deletehash) {
    var deferred = Q.defer();

    if(!deletehash) {
        deferred.reject(&#x27;Missing deletehash&#x27;);
    }

    imgur._imgurRequest(&#x27;delete&#x27;, deletehash)
        .then(function (json) {
            deferred.resolve(json);
        })
        .catch(function (err) {
            deferred.reject(err);
        });
    return deferred.promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

#### Deleting anonymous uploads

Delete an image based on the deletehash(generated during the image upload)

```javascript
imgur.<span class="apidocCodeKeywordSpan">deleteImage</span>(deletehash)
    .then(function(status) {
        console.log(status);
    })
    .catch(function(err) {
        console.error(err.message);
    });
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.imgur.getAPIUrl" id="apidoc.element.imgur.getAPIUrl">
        function <span class="apidocSignatureSpan">imgur.</span>getAPIUrl
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAPIUrl = function () {
    return IMGUR_API_URL;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```javascript
//Setting
imgur.setAPIUrl(&#x27;https://api.imgur.com/3/&#x27;);

//If setAPIUrl() is not called, API URL is read from process.env.IMGUR_API_URL

//Getting
imgur.<span class="apidocCodeKeywordSpan">getAPIUrl</span>();
```
#### Dealing with Mashape Key

Requests to the Mashape URL expects a X-Mashape-Key: MashapeKey header.
Set Mashape Key by using setMashapeKey(MashapeKey) method.
Note: Defaults to process.env.IMGUR_MASHAPE_KEY
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.imgur.getAlbumInfo" id="apidoc.element.imgur.getAlbumInfo">
        function <span class="apidocSignatureSpan">imgur.</span>getAlbumInfo
        <span class="apidocSignatureSpan">(id)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getAlbumInfo = function (id) {
    var deferred = Q.defer();

    if (!id) {
        deferred.reject(new Error(&#x27;Invalid album ID&#x27;));
        return deferred.promise;
    }

    imgur._imgurRequest(&#x27;album&#x27;, id)
        .then(function (json) {
            deferred.resolve(json);
        })
        .catch(function (err) {
            deferred.reject(err);
        });

    return deferred.promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

```

#### Fetching album data:

```javascript
var kittenAlbum = &#x27;mbgq7nd&#x27;;
imgur.<span class="apidocCodeKeywordSpan">getAlbumInfo</span>(kittenAlbum)
.then(function(json) {
    console.log(json);
})
.catch(function (err) {
    console.error(err.message);
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.imgur.getClientId" id="apidoc.element.imgur.getClientId">
        function <span class="apidocSignatureSpan">imgur.</span>getClientId
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getClientId = function () {
    return IMGUR_CLIENT_ID;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
#### Dealing with client IDs:

```javascript
// Setting
imgur.setClientId(&#x27;aCs53GSs4tga0ikp&#x27;);

// Getting
imgur.<span class="apidocCodeKeywordSpan">getClientId</span>();

// Saving to disk. Returns a promise.
// NOTE: path is optional. Defaults to ~/.imgur
imgur.saveClientId(path)
.then(function () {
    console.log(&#x27;Saved.&#x27;);
})
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.imgur.getCredits" id="apidoc.element.imgur.getCredits">
        function <span class="apidocSignatureSpan">imgur.</span>getCredits
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getCredits = function () {
    var deferred = Q.defer();

    imgur._imgurRequest(&#x27;credits&#x27;)
        .then(function (json) {
            deferred.resolve(json);
        })
        .catch(function (err) {
            deferred.reject(err);
        });

    return deferred.promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    imgur.saveClientId(commander.save)
        .fail(function (err) {
            console.error(&#x27;Unable to save client id (%s)&#x27;, err.message);
        });

} else if (commander.credits) {

    imgur.<span class="apidocCodeKeywordSpan">getCredits</span>()
        .then(function (json) {
            console.log(json.data);
        }, function (err) {
            console.error(&#x27;Unable to get credit info (%s)&#x27;, err.message);
        });

} else {
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.imgur.getInfo" id="apidoc.element.imgur.getInfo">
        function <span class="apidocSignatureSpan">imgur.</span>getInfo
        <span class="apidocSignatureSpan">(id)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getInfo = function (id) {
    var deferred = Q.defer();

    if (!id) {
        deferred.reject(&#x27;Invalid image ID&#x27;);
        return deferred.promise;
    }

    imgur._imgurRequest(&#x27;info&#x27;, id)
        .then(function (json) {
            deferred.resolve(json);
        })
        .catch(function (err) {
            deferred.reject(err);
        });

    return deferred.promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
});
```

#### Fetching image data:

```javascript
var kittenPic = &#x27;mbgq7nd&#x27;;
imgur.<span class="apidocCodeKeywordSpan">getInfo</span>(kittenPic)
.then(function(json) {
    console.log(json);
})
.catch(function (err) {
    console.error(err.message);
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.imgur.getMashapeKey" id="apidoc.element.imgur.getMashapeKey">
        function <span class="apidocSignatureSpan">imgur.</span>getMashapeKey
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">getMashapeKey = function () {
    return IMGUR_MASHAPE_KEY;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Note: Defaults to process.env.IMGUR_MASHAPE_KEY

```javascript
//Setting
imgur.setMashapeKey(https://imgur-apiv3.p.mashape.com/);

//Getting
imgur.<span class="apidocCodeKeywordSpan">getMashapeKey</span>()
```
#### Dealing with credentials:

For when you want to upload images to an account.

```javascript
// Setting
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.imgur.loadClientId" id="apidoc.element.imgur.loadClientId">
        function <span class="apidocSignatureSpan">imgur.</span>loadClientId
        <span class="apidocSignatureSpan">(path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">loadClientId = function (path) {
    var deferred = Q.defer();
    var clientId = null;

    path = path || DEFAULT_CLIENT_ID_PATH;

    fs.readFile(path, { encoding: &#x27;utf8&#x27; }, function (err, data) {
        if (err) {
            return deferred.reject(err);
        }

        if (!data) {
            deferred.reject(new Error(&#x27;File is empty&#x27;));
            return deferred.promise;
        }

        return deferred.resolve(data);
    });

    return deferred.promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
    .catch(function (err) {
        console.log(err.message);
    });


// Loading from disk
// NOTE: path is optional. Defaults to ~/.imgur
imgur.<span class="apidocCodeKeywordSpan">loadClientId</span>(path)
    .then(imgur.setClientId);
```
#### Dealing with API URL:

In order to change the API Url say Mashape URL, use setAPIUrl(MashapeURL)

```javascript
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.imgur.saveClientId" id="apidoc.element.imgur.saveClientId">
        function <span class="apidocSignatureSpan">imgur.</span>saveClientId
        <span class="apidocSignatureSpan">(clientId, path)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">saveClientId = function (clientId, path) {
    var deferred = Q.defer();

    path = path || DEFAULT_CLIENT_ID_PATH;

    fs.writeFile(path, clientId, function (err) {
        if (err) {
            return deferred.reject(err);
        }

        return deferred.resolve();
    });

    return deferred.promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
imgur.setClientId(&#x27;aCs53GSs4tga0ikp&#x27;);

// Getting
imgur.getClientId();

// Saving to disk. Returns a promise.
// NOTE: path is optional. Defaults to ~/.imgur
imgur.<span class="apidocCodeKeywordSpan">saveClientId</span>(path)
.then(function () {
    console.log(&#x27;Saved.&#x27;);
})
.catch(function (err) {
    console.log(err.message);
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.imgur.setAPIUrl" id="apidoc.element.imgur.setAPIUrl">
        function <span class="apidocSignatureSpan">imgur.</span>setAPIUrl
        <span class="apidocSignatureSpan">(URL)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setAPIUrl = function (URL) {
    if(URL &#x26;&#x26; typeof URL === &#x27;string&#x27;) {
        IMGUR_API_URL = URL;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```
#### Dealing with API URL:

In order to change the API Url say Mashape URL, use setAPIUrl(MashapeURL)

```javascript
//Setting
imgur.<span class="apidocCodeKeywordSpan">setAPIUrl</span>(&#x27;https://api.imgur.com/3/&#x27;);

//If setAPIUrl() is not called, API URL is read from process.env.IMGUR_API_URL

//Getting
imgur.getAPIUrl();
```
#### Dealing with Mashape Key
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.imgur.setClientId" id="apidoc.element.imgur.setClientId">
        function <span class="apidocSignatureSpan">imgur.</span>setClientId
        <span class="apidocSignatureSpan">(clientId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setClientId = function (clientId) {
    if (clientId &#x26;&#x26; typeof clientId === &#x27;string&#x27;) {
        IMGUR_CLIENT_ID = clientId;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var imgur = require(&#x27;imgur&#x27;);
```

#### Dealing with client IDs:

```javascript
// Setting
imgur.<span class="apidocCodeKeywordSpan">setClientId</span>(&#x27;aCs53GSs4tga0ikp&#x27;);

// Getting
imgur.getClientId();

// Saving to disk. Returns a promise.
// NOTE: path is optional. Defaults to ~/.imgur
imgur.saveClientId(path)
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.imgur.setCredentials" id="apidoc.element.imgur.setCredentials">
        function <span class="apidocSignatureSpan">imgur.</span>setCredentials
        <span class="apidocSignatureSpan">(username, password, clientId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setCredentials = function (username, password, clientId) {
    if (clientId &#x26;&#x26; typeof clientId === &#x27;string&#x27;) {
        IMGUR_CLIENT_ID = clientId;
    }
    if (username &#x26;&#x26; typeof username === &#x27;string&#x27;) {
        IMGUR_USERNAME = username;
    }
    if (password &#x26;&#x26; typeof password === &#x27;string&#x27;) {
        IMGUR_PASSWORD = password;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```
#### Dealing with credentials:

For when you want to upload images to an account.

```javascript
// Setting
imgur.<span class="apidocCodeKeywordSpan">setCredentials</span>(&#x27;email@domain.com&#x27;, &#x27;password&#x27;, &#x27;aCs53GSs4tga0ikp
&#x27;);

```

#### Uploading files; globbing supported:

```javascript
// A single image
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.imgur.setMashapeKey" id="apidoc.element.imgur.setMashapeKey">
        function <span class="apidocSignatureSpan">imgur.</span>setMashapeKey
        <span class="apidocSignatureSpan">(mashapeKey)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">setMashapeKey = function (mashapeKey) {
    if(mashapeKey &#x26;&#x26; typeof mashapeKey === &#x27;string&#x27;) {
        IMGUR_MASHAPE_KEY = mashapeKey;
    }
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

Requests to the Mashape URL expects a X-Mashape-Key: MashapeKey header.
Set Mashape Key by using setMashapeKey(MashapeKey) method.
Note: Defaults to process.env.IMGUR_MASHAPE_KEY

```javascript
//Setting
imgur.<span class="apidocCodeKeywordSpan">setMashapeKey</span>(https://imgur-apiv3.p.mashape.com/);

//Getting
imgur.getMashapeKey()
```
#### Dealing with credentials:

For when you want to upload images to an account.
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.imgur.uploadAlbum" id="apidoc.element.imgur.uploadAlbum">
        function <span class="apidocSignatureSpan">imgur.</span>uploadAlbum
        <span class="apidocSignatureSpan">(images, uploadType, failSafe)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">uploadAlbum = function (images, uploadType, failSafe) {
    var deferred = Q.defer();

    if (!images || !images.length || !(typeof images === &#x27;string&#x27; || images instanceof Array)) {
        if (failSafe) {
            deferred.resolve({data: {}, images: []});
        } else {
            deferred.reject(new Error(&#x27;Invalid image input, only arrays supported&#x27;));
        }
        return deferred.promise;
    }

    imgur.createAlbum()
        .then(function(album) {
            imgur.uploadImages(images, uploadType, album.data.id)
                .then(function (images) {
                    deferred.resolve({data: album.data, images: images});
                })
                .catch(function (err) {
                    return deferred.reject(err);
                });
        })
        .catch(function (err) {
            return deferred.reject(err);
        });

    return deferred.promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
Create a new album and upload an array of images of the desired upload type to it (&#x27;File&#x27;, &#x27;Url&#x27;, &#x27;Base64
&#x27;).

Returns an object with the album data and an array of images { data: {...}, images: [{...}, ...]}.

The third parameter is an optional fail safe, meaning if the array of images is empty or invalid, it will not fail, but returns
an object with empty data and empty images.

```javascript
imgur.<span class="apidocCodeKeywordSpan">uploadAlbum</span>(images, uploadType /*, failSafe */)
.then(function(album) {
    console.log(album.data, album.images);
})
.catch(function (err) {
    console.error(err.message);
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.imgur.uploadBase64" id="apidoc.element.imgur.uploadBase64">
        function <span class="apidocSignatureSpan">imgur.</span>uploadBase64
        <span class="apidocSignatureSpan">(base64, albumId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">uploadBase64 = function (base64, albumId) {
    var
        deferred = Q.defer(),
        extraFormParams = {};

    if (typeof albumId === &#x27;string&#x27; &#x26;&#x26; albumId.length) {
        extraFormParams.album = albumId;
    }

    if (typeof base64 !== &#x27;string&#x27; || !base64 || !base64.length) {
        deferred.reject(new Error(&#x27;Invalid Base64 input&#x27;));
        return deferred.promise;
    }

    imgur._imgurRequest(&#x27;upload&#x27;, base64, extraFormParams)
        .then(function (image) {
            deferred.resolve(image);
        })
        .catch(function (err) {
            deferred.reject(err);
        });

    return deferred.promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

#### Uploading Base-64 encoded images:

```javascript
var imgurFavicon = &#x27;iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAmUlEQVQ4je2TsQ3CMBBFnxMa08WR2IQKJskIUNwMZAcYwWIQMs65JCUpEEIYW4pJy6v
+6e6+/hVnnGsAzsCBMi7AsbbW/rIMsAU2xrnmkeruuzW7zgIw+JGbv6fGQpWzfy3HOsJlDQY/AlCv3jpF9oS5ZBOICKoB1YCIlCdQDR9127qyBHP5Gyw3CBXPr/qi709JHXE1S995AsqoJu8x78GsAAAAAElFTkSuQmCC
&#x27;;

imgur.<span class="apidocCodeKeywordSpan">uploadBase64</span>(imgurFavicon)
    .then(function (json) {
        console.log(json.data.link);
    })
    .catch(function (err) {
        console.error(err.message);
    });
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.imgur.uploadFile" id="apidoc.element.imgur.uploadFile">
        function <span class="apidocSignatureSpan">imgur.</span>uploadFile
        <span class="apidocSignatureSpan">(file, albumId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">uploadFile = function (file, albumId) {
    var deferred = Q.defer(),
        extraFormParams = {};

    if (typeof albumId === &#x27;string&#x27; &#x26;&#x26; albumId.length) {
        extraFormParams.album = albumId;
    }

    glob(file, function (err, files) {
        if (err) {
            deferred.reject(err);
            return deferred.promise;
        } else if (!files.length) {
            deferred.reject(new Error(&#x27;Invalid file or glob&#x27;));
            return deferred.promise;
        }

        files.forEach(function (f, index, arr) {
            var readStream = fs.createReadStream(f);
            readStream.on(&#x27;error&#x27;, deferred.reject);

            imgur._imgurRequest(&#x27;upload&#x27;, readStream, extraFormParams)
                .then(function (json) {
                    deferred.resolve(json);
                })
                .catch(function (err) {
                    deferred.reject(err);
                });
        });
    });

    return deferred.promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

```

#### Uploading files; globbing supported:

```javascript
// A single image
imgur.<span class="apidocCodeKeywordSpan">uploadFile</span>(&#x27;/home/kai/kittens.png&#x27;)
.then(function (json) {
    console.log(json.data.link);
})
.catch(function (err) {
    console.error(err.message);
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.imgur.uploadImages" id="apidoc.element.imgur.uploadImages">
        function <span class="apidocSignatureSpan">imgur.</span>uploadImages
        <span class="apidocSignatureSpan">(images, uploadType, albumId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">uploadImages = function (images, uploadType, albumId) {
    var deferred = Q.defer();
    var upload = imgur[&#x27;upload&#x27; + uploadType];

    if (!images || !images.length || !(typeof images === &#x27;string&#x27; || images instanceof Array)) {
        deferred.reject(new Error(&#x27;Invalid image input, only arrays supported&#x27;));
        return deferred.promise;
    }

    var results = [];
    var progress = 0;
    var done = images.length;
    for (var i = 0; i &#x3c; done; i++) {
        upload(images[i], albumId)
            .then(function (image) {
                results.push(image.data);
                ++progress;
                if (progress == done) {
                    deferred.resolve(results);
                }
            })
            .catch(function (err) {
                deferred.reject(err);
                return deferred.promise;
            });
    }

    return deferred.promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
#### Uploading multiple images:

Upload an array of images of the desired upload type (&#x27;File&#x27;, &#x27;Url&#x27;, &#x27;Base64&#x27;).

Returns an array of images (imgur image data).

```javascript
imgur.<span class="apidocCodeKeywordSpan">uploadImages</span>(images, uploadType /*, albumId */)
.then(function(images) {
    console.log(images);
})
.catch(function (err) {
    console.error(err.message);
});
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.imgur.uploadUrl" id="apidoc.element.imgur.uploadUrl">
        function <span class="apidocSignatureSpan">imgur.</span>uploadUrl
        <span class="apidocSignatureSpan">(url, albumId)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">uploadUrl = function (url, albumId) {
    var deferred = Q.defer(),
        extraFormParams = {};

    if (typeof albumId === &#x27;string&#x27; &#x26;&#x26; albumId.length) {
        extraFormParams.album = albumId;
    }

    if (!url || !urlParser.parse(url).protocol) {
        deferred.reject(new Error(&#x27;Invalid URL&#x27;));
        return deferred.promise;
    }

    imgur._imgurRequest(&#x27;upload&#x27;, url, extraFormParams)
        .then(function (json) {
            deferred.resolve(json);
        })
        .catch(function (err) {
            deferred.reject(err);
        });

    return deferred.promise;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

```

#### Uploading URLs of images hosted elsewhere:

```javascript
// Include http(s) when specifying URLs
imgur.<span class="apidocCodeKeywordSpan">uploadUrl</span>(&#x27;https://octodex.github.com/images/topguntocat.png&#x27;)
    .then(function (json) {
        console.log(json.data.link);
    })
    .catch(function (err) {
        console.error(err.message);
    });
```
...</pre></li>
    </ul>




</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
